<mxfile host="drawio-plugin" modified="2024-11-12T10:38:06.573Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36" version="20.5.3" etag="0qXtoM-PBb1tAuKKu0SE" type="embed"><diagram id="lkDpXnEjW47yhE_zcJvy" name="Page-1"><mxGraphModel dx="1496" dy="693" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="21" value="从Provider 获取一个校验器" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="22"><mxGeometry relative="1" as="geometry"><mxPoint x="835" y="335" as="targetPoint"/></mxGeometry></mxCell><mxCell id="9" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="320" y="100" width="530" height="430" as="geometry"/></mxCell><mxCell id="24" value="2. 获取校验器对象" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="22" target="23"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="22" target="34"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="270" y="190"/><mxPoint x="270" y="180"/></Array></mxGeometry></mxCell><mxCell id="38" value="返回Token" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="36"><mxGeometry x="-0.424" y="2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="22" value="Token 模块" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="390" y="140" width="120" height="60" as="geometry"/></mxCell><mxCell id="27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="4" target="23"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="4" value="账号" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="705" y="350" width="90" height="40" as="geometry"/></mxCell><mxCell id="28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="5" target="23"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="5" value="飞书" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="705" y="410" width="90" height="40" as="geometry"/></mxCell><mxCell id="29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="17" target="23"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="30" value="1. 注册进容器" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="29"><mxGeometry x="0.2275" y="1" relative="1" as="geometry"><mxPoint x="1" y="1" as="offset"/></mxGeometry></mxCell><mxCell id="17" value="...." style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="705" y="470" width="90" height="40" as="geometry"/></mxCell><mxCell id="31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="23" target="22"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="32" value="3. 执行校验器对象的&lt;br&gt;Vlidate 方法" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="31"><mxGeometry x="0.51" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="23" value="Provider 模块" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="390" y="400" width="120" height="60" as="geometry"/></mxCell><mxCell id="35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="34" target="22"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="37" value="登录" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="35"><mxGeometry x="0.4588" relative="1" as="geometry"><mxPoint y="1" as="offset"/></mxGeometry></mxCell><mxCell id="34" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1"><mxGeometry x="120" y="140" width="30" height="60" as="geometry"/></mxCell><mxCell id="39" value="&lt;h1&gt;Provider&lt;/h1&gt;&lt;p&gt;1. 所有的登录校验都实现为独立对象&lt;/p&gt;&lt;p&gt;2. 所有对象在初始化时，注册进Provider 中&lt;/p&gt;&lt;p&gt;3. Provider 是一个标准的 Ioc 对象，作为容器&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1"><mxGeometry x="590" y="130" width="290" height="120" as="geometry"/></mxCell><mxCell id="40" value="&lt;h1&gt;登录流程&lt;/h1&gt;&lt;p&gt;1. 用户进行登录&lt;/p&gt;&lt;p&gt;2. 根据用户登录的 URL，调用不同的校验对象&lt;/p&gt;&lt;p&gt;3. 校验对象统一都实现了 Validate 校验方法&lt;/p&gt;&lt;p&gt;4. 校验成功后，返回User 对象&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1"><mxGeometry y="280" width="310" height="160" as="geometry"/></mxCell></root></mxGraphModel></diagram></mxfile>